\documentclass[a4paper,twoside,nofonts]{tufte-handout}

\usepackage[english]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[default]{lato}
\usepackage{lato-latex}
% \usepackage{PTSerif,PTSans}
% \renewcommand{\familydefault}{\sfdefault}
\usepackage[scaled=1.1]{inconsolata}

\usepackage{microtype}
\usepackage{graphicx}
\usepackage{hyperref}
\hypersetup{colorlinks}

\usepackage{csquotes}

\usepackage{listings}
\lstset{
    basicstyle={\ttfamily},
    columns=fullflexible,
    language=[LaTeX]TeX,
    escapeinside={_}{_},
    escapebegin={\rmfamily\textlangle\itshape},
    escapeend={\upshape\textrangle},
    gobble=4
}
\lstMakeShortInline[ % typeset sequences |like this| as code
    escapeinside={_}{_},
    escapebegin=\parambegin,
    escapeend=\paramend
]|
\newcommand\parambegin{\rmfamily\textlangle\itshape}
\newcommand\paramend{\upshape\textrangle}
\newcommand\parameter[1]{{\parambegin#1\paramend}}
\newcommand\code[1]{\texttt{#1}}
\let\file\code
\newcommand\package[1]{\file{#1.sty}} % and link to CTAN

\usepackage{todo-setup}
\usepackage{lipsum}

\raggedbottom

\makeatletter
\def\wikipedi@prefix{http://en.wikipedia.org/wiki/}
\newcommand\wikipedia[2][\@empty]{\href{\wikipedi@prefix #2}{\ifx #1\@empty #2\else #1\fi}}


\title{\LaTeX'ing with style}
\author{Damien Pollet}
\date{}



\begin{document}
\maketitle

\begin{abstract}
    This document regroups a few pieces of advice to help \LaTeX{} users prepare documents with better typography, streamline their writing workflow, and write maintainable \LaTeX{} code.
\end{abstract}



\noindent
    \LaTeX{} is well-known for the quality of the documents it produces, but even if the defaults are sensible, authors still have to be familiar with good typography practices to achieve really nice results.
Even so, there is the problem of finding just \emph{how} to implement some details properly, without getting swamped in crazy syntax or spending too many hours and neurons debugging obscure macros. \Todo{maybe more here}



\section{Pleasant typography} % (fold)
\label{sec:typography}

\subsection{Within the paragraph} % (fold)
\label{sub:paragraph}

\paragraph{Do not abuse of fonts.}
With fonts, less is more.
\marginnote{%
  A \wikipedia{font} means a single size, style and weight of a particular typeface.
  Conversely, a \wikipedia{typeface} or font family is a set of fonts with stylistic unity.}
\LaTeX{} makes it tempting to abuse of the many complete typefaces available, but emphasizing everything has the opposite effect: nothing really stands out anymore.

Normal paragraph text only needs a roman font and matching italic for emphasis.
It's often said that foreign locutions like \enquote{i.e.} or \enquote{et al.} should be emphasized but I think it's useless because they are so common in scientific English.
Technical publications often use a sans-serif or monospaced font as well, to distinguish formal identifiers from homonymous domain terms.

For emphasis, use the |\emph{}| command.
Italic is the preferred way to emphasize text, because it's designed to make text stand out in the reading flow, but not in the page; conversely, bold text stands out visually by disturbing the typographic gray, so it should only be used when that is the intent ---dictionary entries, for instance.
As for underlining, it is just a workaround to replace proper italics where they are not possible, like typewriters or handwriting; you can safely forget that it even exists.

\paragraph{Coordinate typefaces.}
Many document classes mix text typefaces that were not designed together.
You should of course pick typefaces with compatible aesthetic temperaments, but also ensure that they coordinate well visually.
For instance, many well-known publication templates use Times together with Helvetica, but while both have the same point size, they do not \emph{look} like it.
\marginnote{\wikipedia{X-height} matching is quite sensitive; discrepancies of a few percent easily stand out to the attentive eye.}
Fortunately, \package{helvet} and a few other typeface packages can adjust the scale of the font; pick the value to match the x-heights: |\usepackage[scaled=0.82]{helvet}|.

\paragraph{Small caps acronyms.}
Acronyms in full caps are fine, but can be disturbing if they appear too frequently.
One way to alleviate that is setting them like proper nouns, but that is only possible if the acronym is pronounced like a word, rather than spelled; periods are superfluous in either case.


Otherwise, small caps are the solution.
\marginnote{%
  Proper small caps are \emph{not} scaled-down upper-case letters.
  They have to be designed to match the line weight and general proportions of normal letters.}
If your text font has proper small caps, they will make acronyms less obtrusive; \package{soul} provides the |\caps{}| command, which will even slightly letterspace its argument, for aesthetic purposes. 
Note that in the code, you should write the acronym in lower case; |\caps| will conserve upper-case letters, which can come handy if you need to begin a sentence by an acronym.

\begin{todoenv}
    fonts, emphasis
    source code, program elements
    ligatures and spaces
    links, colors
    language, babel
\end{todoenv}
% (end)

\subsection{Graphics, tables, \& other floats} % (fold)
\label{sub:graphics}

\begin{todoenv}
    graphicx
    spacing
    rules, booktabs
\end{todoenv}
% (end)

\subsection{Document layout} % (fold)
\label{sub:layout}

\begin{todoenv}
    line length
    spacing
    proportions, your own document style
\end{todoenv}
% (end)
% section typography (end)



\section{Efficient tools} % (fold)
\label{sec:tools}

\subsection{Compiling \& previewing} % (fold)
\label{sub:compiling}

\begin{todoenv}
    latexmk + extensions
    synctex
\end{todoenv}
% (end)

\subsection{Bibliography} % (fold)
\label{sub:bibliography}

\begin{todoenv}
    key format
    keywords
    url, doiâ€¦
\end{todoenv}
% (end)

\subsection{Version control} % (fold)
\label{sub:vcs}

\begin{todoenv}
    bbl
    one sentence per line
    git primer ?
\end{todoenv}
% (end)

\subsection{Maintenance} % (fold)
\label{sub:maintenance}

\begin{todoenv}
    todo notes
    document templates
\end{todoenv}
% (end)
% section tools (end)



\section{Nice code} % (fold)
\label{sec:code}

\subsection{Semantics \& form} % (fold)
\label{sub:semantics}

\begin{todoenv}
    encoding
    references
    define environments for examples, code etc
    product / team names, recurrent things
    managing the final adjustments
\end{todoenv}
% (end)

\subsection{Organizing \& presenting \LaTeX{} code} % (fold)
\label{sub:format}

\begin{todoenv}
    presenting main text code
    one sentence per line
    macros: indentation, commenting whitespace
    preamble stuff
    big documents
\end{todoenv}
% (end)
% section code (end)



\bibliographystyle{plainnat}
\nocite{*}
\bibliography{local}

\clearpage\todos

\end{document}

